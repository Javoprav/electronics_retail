# Тестовый проект "Онлайн платформа торговой сети электроники"

- Создана API и админ-панель
- Реализована модель сети по продаже электроники.
- Сеть представлять собой иерархическую структуру из 3 уровней: Завод;  Розничная сеть;  Индивидуальный предприниматель.
- Каждое звено сети ссылается только на одного поставщика оборудования. Важно отметить, что уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т.е. завод всегда находится на 0 уровне, а если розничная сеть относится напрямую к заводу, минуя остальные звенья - её уровень - 1.
- Создан вывод в админ-панели созданных объектов
- На странице объекта сети добавлена ссылка на «Поставщика»;
- Создан фильтр по названию города;
- Создан «admin action», очищающий задолженность перед поставщиком у выбранных объектов.
- Создан CRUD для всех моделей.
- Запрещено обновление через API поля «Задолженность перед поставщиком».
- Добавлена возможность фильтрации объектов по определенной стране.
- Настроены права доступа к API так, чтобы только активные сотрудники имели доступ к API.

### Используемые технологии:
Python 3.8+
Django 3+
DRF 3.10+
PostgreSQL 10+

# Развертывание проекта:

```bash
python3 -m venv venv
```
Активировать виртуальное окружение
```bash
source venv/bin/activate
```
Установить зависимости проекта, указанные в файле `requirements.txt`
```bash
pip install -r requirements.txt
```
Установить PostreSQL
```bash
sudo apt-get install postgresql
```
Выполнить вход
```bash
sudo -u postgres psql
```
Cоздать базу данных 
с помощью следующей команды:
```bash
CREATE DATABASE electronics_retail;
```
```bash
CREATE USER admin WITH PASSWORD '123';
```
```bash
ALTER USER admin CREATEDB;
```
Выйти
```bash
\q
```
Создать файл `.env` 
Записать в файл настройки, как в .env.sample

Применить миграции
```bash
python manage.py migrate
```
Наполнить БД
```bash
python manage.py loaddata data.json
```
Проверить на ошибки модулем flake8
```bash
flake8 --exclude=venv,migrations --ignore=E501
```
Запустить сервер
```bash
python manage.py runserver
```
